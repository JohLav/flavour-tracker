{% extends 'base.html.twig' %}

{% block title %}Résultats de recherche{% endblock %}

{% block search %}
    {% include 'search/_search_bar.html.twig' %}
{% endblock %}

{% block body %}
    {% if restaurants|length == 0 %}
        <p class="text-center">Aucun restaurant trouvé.</p>
    {% else %}
        <div class="container">
            <h3 class="text-center mb-4">Résultats</h3>
            <div class="d-flex flex-row flex-wrap justify-content-center">

                {% for restaurant in restaurants %}
                    {% include 'restaurant/_restaurant.html.twig' %}
                {% endfor %}
                <div class="flex-shrink-1">
                    {% include 'search/_map.html.twig' %}
                </div>
            </div>
        </div>
    {% endif %}

{% endblock %}

{% block script %}
    <script>
        let price = document.getElementById('search_price');
        let container = document.getElementById('container_price');

        price.addEventListener('change', () => {
            let currentPrice = price.value;
            container.innerText = currentPrice + ' €';
        })
    </script>
{% endblock %}
